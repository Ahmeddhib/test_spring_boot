Skip to content
Jenkins

    webhootest

#61

    Sortie de la console

Administrer Jenkins
ahmed dhib
Status
Changes
Console Output
Edit Build Information
Log de scrutation
Timings
Git Build Data
Pipeline Overview
Thread Dump
Pause/resume
Replay
Pipeline Steps
Workspaces
Previous Build
En coursEn coursEn √©chec
Sortie de la console
Download
Voir en texte brut

Started by GitHub push by Ahmeddhib
Lightweight checkout support not available, falling back to full checkout.
Checking out git https://github.com/Ahmeddhib/StudentsManagement-DevOps.git into /var/lib/jenkins/workspace/webhootest@script/abc04ede375ecb15ceabc64bbe1ecb511190b2e163171f8cd4e8ce8b1f118bcb to read Jenkinsfile
The recommended git tool is: NONE
using credential ahmeddhib
 > git rev-parse --resolve-git-dir /var/lib/jenkins/workspace/webhootest@script/abc04ede375ecb15ceabc64bbe1ecb511190b2e163171f8cd4e8ce8b1f118bcb/.git # timeout=10
Fetching changes from the remote Git repository
 > git config remote.origin.url https://github.com/Ahmeddhib/StudentsManagement-DevOps.git # timeout=10
Fetching upstream changes from https://github.com/Ahmeddhib/StudentsManagement-DevOps.git
 > git --version # timeout=10
 > git --version # 'git version 2.25.1'
using GIT_ASKPASS to set credentials 
 > git fetch --tags --force --progress -- https://github.com/Ahmeddhib/StudentsManagement-DevOps.git +refs/heads/*:refs/remotes/origin/* # timeout=10
Seen branch in repository origin/main
Seen 1 remote branch
 > git show-ref --tags -d # timeout=10
Checking out Revision 009ae4dc4ac372662ff70620cbdd32e709b797f9 (origin/main)
 > git config core.sparsecheckout # timeout=10
 > git checkout -f 009ae4dc4ac372662ff70620cbdd32e709b797f9 # timeout=10
Commit message: "Update StudentControllerTest.java"
 > git rev-list --no-walk 077b9cb547628d3af28942ccb9940bd9eb2ed07e # timeout=10
[Pipeline] Start of Pipeline
[Pipeline] node
Running on Jenkins in /var/lib/jenkins/workspace/webhootest
[Pipeline] {
[Pipeline] stage
[Pipeline] { (Declarative: Checkout SCM)
[Pipeline] checkout
The recommended git tool is: NONE
using credential ahmeddhib
 > git rev-parse --resolve-git-dir /var/lib/jenkins/workspace/webhootest/.git # timeout=10
Fetching changes from the remote Git repository
 > git config remote.origin.url https://github.com/Ahmeddhib/StudentsManagement-DevOps.git # timeout=10
Fetching upstream changes from https://github.com/Ahmeddhib/StudentsManagement-DevOps.git
 > git --version # timeout=10
 > git --version # 'git version 2.25.1'
using GIT_ASKPASS to set credentials 
 > git fetch --tags --force --progress -- https://github.com/Ahmeddhib/StudentsManagement-DevOps.git +refs/heads/*:refs/remotes/origin/* # timeout=10
Seen branch in repository origin/main
Seen 1 remote branch
 > git show-ref --tags -d # timeout=10
Checking out Revision 009ae4dc4ac372662ff70620cbdd32e709b797f9 (origin/main)
 > git config core.sparsecheckout # timeout=10
 > git checkout -f 009ae4dc4ac372662ff70620cbdd32e709b797f9 # timeout=10
Commit message: "Update StudentControllerTest.java"
[Pipeline] }
[Pipeline] // stage
[Pipeline] withEnv
[Pipeline] {
[Pipeline] withEnv
[Pipeline] {
[Pipeline] stage
[Pipeline] { (Checkout)
[Pipeline] checkout
The recommended git tool is: NONE
No credentials specified
 > git rev-parse --resolve-git-dir /var/lib/jenkins/workspace/webhootest/.git # timeout=10
Fetching changes from the remote Git repository
 > git config remote.origin.url https://github.com/Ahmeddhib/StudentsManagement-DevOps.git # timeout=10
Using shallow fetch with depth 1
Fetching upstream changes from https://github.com/Ahmeddhib/StudentsManagement-DevOps.git
 > git --version # timeout=10
 > git --version # 'git version 2.25.1'
 > git fetch --tags --force --progress --depth=1 -- https://github.com/Ahmeddhib/StudentsManagement-DevOps.git +refs/heads/*:refs/remotes/origin/* # timeout=10
 > git rev-parse refs/remotes/origin/main^{commit} # timeout=10
Checking out Revision 009ae4dc4ac372662ff70620cbdd32e709b797f9 (refs/remotes/origin/main)
 > git config core.sparsecheckout # timeout=10
 > git checkout -f 009ae4dc4ac372662ff70620cbdd32e709b797f9 # timeout=10
Commit message: "Update StudentControllerTest.java"
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Run Tests & Generate JaCoCo)
[Pipeline] script
[Pipeline] {
[Pipeline] echo
üß™ Ex√©cution des tests avec JaCoCo...
[Pipeline] sh
+ echo === √âTAPE 1: EX√âCUTION DES TESTS ===
=== √âTAPE 1: EX√âCUTION DES TESTS ===
+ wc -l
+ find src/test -name *Test*.java
+ TEST_COUNT=5
+ echo Nombre de fichiers de test trouv√©s: 5
Nombre de fichiers de test trouv√©s: 5
+ [ 5 -eq 0 ]
+ echo === √âTAPE 2: EX√âCUTION Maven ===
=== √âTAPE 2: EX√âCUTION Maven ===
+ mvn clean test jacoco:report -DskipTests=false
[[1;34mINFO[m] Scanning for projects...
[[1;33mWARNING[m] 
[[1;33mWARNING[m] Some problems were encountered while building the effective model for tn.esprit:student-management:jar:0.0.1-SNAPSHOT
[[1;33mWARNING[m] 'dependencies.dependency.(groupId:artifactId:type:classifier)' must be unique: com.h2database:h2:jar -> duplicate declaration of version (?) @ line 76, column 21
[[1;33mWARNING[m] 
[[1;33mWARNING[m] It is highly recommended to fix these problems because they threaten the stability of your build.
[[1;33mWARNING[m] 
[[1;33mWARNING[m] For this reason, future Maven versions might no longer support building such malformed projects.
[[1;33mWARNING[m] 
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--------------------< [0;36mtn.esprit:student-management[0;1m >--------------------[m
[[1;34mINFO[m] [1mBuilding student-management 0.0.1-SNAPSHOT[m
[[1;34mINFO[m] [1m--------------------------------[ jar ]---------------------------------[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-clean-plugin:3.4.1:clean[m [1m(default-clean)[m @ [36mstudent-management[0;1m ---[m
[[1;34mINFO[m] Deleting /var/lib/jenkins/workspace/webhootest/target
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mjacoco-maven-plugin:0.8.12:prepare-agent[m [1m(prepare-agent)[m @ [36mstudent-management[0;1m ---[m
[[1;34mINFO[m] argLine set to -javaagent:/var/lib/jenkins/.m2/repository/org/jacoco/org.jacoco.agent/0.8.12/org.jacoco.agent-0.8.12-runtime.jar=destfile=/var/lib/jenkins/workspace/webhootest/target/jacoco.exec
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:3.3.1:resources[m [1m(default-resources)[m @ [36mstudent-management[0;1m ---[m
[[1;34mINFO[m] Copying 1 resource from src/main/resources to target/classes
[[1;34mINFO[m] Copying 0 resource from src/main/resources to target/classes
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.14.0:compile[m [1m(default-compile)[m @ [36mstudent-management[0;1m ---[m
[[1;34mINFO[m] Recompiling the module because of [1mchanged source code[m.
[[1;34mINFO[m] Compiling 19 source files with javac [debug parameters release 17] to target/classes
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:3.3.1:testResources[m [1m(default-testResources)[m @ [36mstudent-management[0;1m ---[m
[[1;34mINFO[m] Copying 1 resource from src/test/resources to target/test-classes
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.14.0:testCompile[m [1m(default-testCompile)[m @ [36mstudent-management[0;1m ---[m
[[1;34mINFO[m] Recompiling the module because of [1mchanged dependency[m.
[[1;34mINFO[m] Compiling 5 source files with javac [debug parameters release 17] to target/test-classes
[[1;33mWARNING[m] /var/lib/jenkins/workspace/webhootest/src/test/java/tn/esprit/studentmanagement/controllers/StudentControllerTest.java:[30,6] org.springframework.boot.test.mock.mockito.MockBean in org.springframework.boot.test.mock.mockito has been deprecated and marked for removal
[[1;33mWARNING[m] /var/lib/jenkins/workspace/webhootest/src/test/java/tn/esprit/studentmanagement/controllers/StudentControllerTest.java:[30,6] org.springframework.boot.test.mock.mockito.MockBean in org.springframework.boot.test.mock.mockito has been deprecated and marked for removal
[[1;33mWARNING[m] /var/lib/jenkins/workspace/webhootest/src/test/java/tn/esprit/studentmanagement/controllers/StudentControllerTest.java:[30,6] org.springframework.boot.test.mock.mockito.MockBean in org.springframework.boot.test.mock.mockito has been deprecated and marked for removal
[[1;33mWARNING[m] /var/lib/jenkins/workspace/webhootest/src/test/java/tn/esprit/studentmanagement/controllers/StudentControllerTest.java:[30,6] org.springframework.boot.test.mock.mockito.MockBean in org.springframework.boot.test.mock.mockito has been deprecated and marked for removal
[[1;33mWARNING[m] /var/lib/jenkins/workspace/webhootest/src/test/java/tn/esprit/studentmanagement/controllers/StudentControllerTest.java:[30,6] org.springframework.boot.test.mock.mockito.MockBean in org.springframework.boot.test.mock.mockito has been deprecated and marked for removal
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-surefire-plugin:3.5.0:test[m [1m(default-test)[m @ [36mstudent-management[0;1m ---[m
[[1;34mINFO[m] Using auto detected provider org.apache.maven.surefire.junitplatform.JUnitPlatformProvider
[[1;34mINFO[m] 
[[1;34mINFO[m] -------------------------------------------------------
[[1;34mINFO[m]  T E S T S
[[1;34mINFO[m] -------------------------------------------------------
[[1;34mINFO[m] Running tn.esprit.studentmanagement.[1mStudentManagementApplicationTests[m
14:39:50.268 [main] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils -- Could not detect default configuration classes for test class [tn.esprit.studentmanagement.StudentManagementApplicationTests]: StudentManagementApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
14:39:50.664 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper -- Found @SpringBootConfiguration tn.esprit.studentmanagement.StudentManagementApplication for test class tn.esprit.studentmanagement.StudentManagementApplicationTests

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/

 :: Spring Boot ::                (v3.5.5)

2025-12-15T14:39:52.395+01:00  INFO 17130 --- [student-management] [           main] t.e.s.StudentManagementApplicationTests  : Starting StudentManagementApplicationTests using Java 17.0.15 with PID 17130 (started by jenkins in /var/lib/jenkins/workspace/webhootest)
2025-12-15T14:39:52.398+01:00  INFO 17130 --- [student-management] [           main] t.e.s.StudentManagementApplicationTests  : The following 1 profile is active: "test"
2025-12-15T14:39:55.004+01:00  INFO 17130 --- [student-management] [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-15T14:39:55.286+01:00  INFO 17130 --- [student-management] [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 251 ms. Found 4 JPA repository interfaces.
2025-12-15T14:39:56.228+01:00  INFO 17130 --- [student-management] [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-15T14:39:56.365+01:00  INFO 17130 --- [student-management] [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.26.Final
2025-12-15T14:39:56.478+01:00  INFO 17130 --- [student-management] [           main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-12-15T14:39:57.755+01:00  INFO 17130 --- [student-management] [           main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-15T14:39:57.863+01:00  INFO 17130 --- [student-management] [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-15T14:39:58.726+01:00  INFO 17130 --- [student-management] [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-12-15T14:39:58.730+01:00  INFO 17130 --- [student-management] [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-15T14:39:58.817+01:00  WARN 17130 --- [student-management] [           main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-15T14:39:58.872+01:00  INFO 17130 --- [student-management] [           main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-15T14:40:02.205+01:00  INFO 17130 --- [student-management] [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
Hibernate: 
    drop table if exists course cascade 
Hibernate: 
    drop table if exists department cascade 
Hibernate: 
    drop table if exists enrollment cascade 
Hibernate: 
    drop table if exists student cascade 
Hibernate: 
    create table course (
        credit integer not null,
        id_course bigint generated by default as identity,
        code varchar(255),
        description varchar(255),
        name varchar(255),
        primary key (id_course)
    )
Hibernate: 
    create table department (
        id_department bigint generated by default as identity,
        head varchar(255),
        location varchar(255),
        name varchar(255),
        phone varchar(255),
        primary key (id_department)
    )
Hibernate: 
    create table enrollment (
        enrollment_date date,
        grade float(53),
        course_id_course bigint,
        id_enrollment bigint generated by default as identity,
        student_id_student bigint,
        status enum ('ACTIVE','COMPLETED','DROPPED','FAILED','WITHDRAWN'),
        primary key (id_enrollment)
    )
Hibernate: 
    create table student (
        date_of_birth date,
        department_id_department bigint,
        id_student bigint generated by default as identity,
        address varchar(255),
        email varchar(255),
        first_name varchar(255),
        last_name varchar(255),
        phone varchar(255),
        primary key (id_student)
    )
Hibernate: 
    alter table if exists enrollment 
       add constraint FKmuo68i8nton3ptf7hfkhhulni 
       foreign key (course_id_course) 
       references course
Hibernate: 
    alter table if exists enrollment 
       add constraint FKe7ou10rkmxygeb5j05uc34ult 
       foreign key (student_id_student) 
       references student
Hibernate: 
    alter table if exists student 
       add constraint FKki4lgeuqrn67tf5pdr13xyi7t 
       foreign key (department_id_department) 
       references department
2025-12-15T14:40:02.486+01:00  INFO 17130 --- [student-management] [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-15T14:40:04.925+01:00  WARN 17130 --- [student-management] [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-12-15T14:40:05.264+01:00  INFO 17130 --- [student-management] [           main] o.s.v.b.OptionalValidatorFactoryBean     : Failed to set up a Bean Validation provider: jakarta.validation.NoProviderFoundException: Unable to create a Configuration, because no Jakarta Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.
2025-12-15T14:40:07.423+01:00  INFO 17130 --- [student-management] [           main] t.e.s.StudentManagementApplicationTests  : Started StudentManagementApplicationTests in 16.174 seconds (process running for 22.193)
OpenJDK 64-Bit Server VM warning: Sharing is only supported for boot loader classes because bootstrap classpath has been appended
[[1;34mINFO[m] [1;32mTests run: [0;1;32m1[m, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 19.38 s -- in tn.esprit.studentmanagement.[1mStudentManagementApplicationTests[m
[[1;34mINFO[m] Running tn.esprit.studentmanagement.repositories.[1mStudentRepositoryTest[m
2025-12-15T14:40:08.730+01:00  INFO 17130 --- [student-management] [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [tn.esprit.studentmanagement.repositories.StudentRepositoryTest]: StudentRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-12-15T14:40:08.825+01:00  INFO 17130 --- [student-management] [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration tn.esprit.studentmanagement.StudentManagementApplication for test class tn.esprit.studentmanagement.repositories.StudentRepositoryTest

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/

 :: Spring Boot ::                (v3.5.5)

2025-12-15T14:40:08.907+01:00  INFO 17130 --- [student-management] [           main] t.e.s.r.StudentRepositoryTest            : Starting StudentRepositoryTest using Java 17.0.15 with PID 17130 (started by jenkins in /var/lib/jenkins/workspace/webhootest)
2025-12-15T14:40:08.909+01:00  INFO 17130 --- [student-management] [           main] t.e.s.r.StudentRepositoryTest            : No active profile set, falling back to 1 default profile: "default"
2025-12-15T14:40:09.169+01:00  INFO 17130 --- [student-management] [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-12-15T14:40:09.202+01:00  INFO 17130 --- [student-management] [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 26 ms. Found 4 JPA repository interfaces.
2025-12-15T14:40:09.234+01:00  INFO 17130 --- [student-management] [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2025-12-15T14:40:09.280+01:00  INFO 17130 --- [student-management] [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:72aa74a2-df46-4079-883e-a131950b489b;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2025-12-15T14:40:09.337+01:00  INFO 17130 --- [student-management] [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-12-15T14:40:09.342+01:00  INFO 17130 --- [student-management] [           main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-12-15T14:40:09.368+01:00  INFO 17130 --- [student-management] [           main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-12-15T14:40:09.474+01:00  INFO 17130 --- [student-management] [           main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseFactory$EmbeddedDataSourceProxy@30ad1d8d']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-12-15T14:40:09.652+01:00  INFO 17130 --- [student-management] [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
Hibernate: create table course (id_course bigint generated by default as identity, code varchar(255), credit integer not null, description varchar(255), name varchar(255), primary key (id_course))
Hibernate: create table department (id_department bigint generated by default as identity, head varchar(255), location varchar(255), name varchar(255), phone varchar(255), primary key (id_department))
Hibernate: create table enrollment (id_enrollment bigint generated by default as identity, enrollment_date date, grade float(53), status enum ('ACTIVE','COMPLETED','DROPPED','FAILED','WITHDRAWN'), course_id_course bigint, student_id_student bigint, primary key (id_enrollment))
Hibernate: create table student (id_student bigint generated by default as identity, address varchar(255), date_of_birth date, email varchar(255), first_name varchar(255), last_name varchar(255), phone varchar(255), department_id_department bigint, primary key (id_student))
Hibernate: alter table if exists enrollment add constraint FKmuo68i8nton3ptf7hfkhhulni foreign key (course_id_course) references course
Hibernate: alter table if exists enrollment add constraint FKe7ou10rkmxygeb5j05uc34ult foreign key (student_id_student) references student
Hibernate: alter table if exists student add constraint FKki4lgeuqrn67tf5pdr13xyi7t foreign key (department_id_department) references department
2025-12-15T14:40:09.743+01:00  INFO 17130 --- [student-management] [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-12-15T14:40:09.910+01:00  INFO 17130 --- [student-management] [           main] t.e.s.r.StudentRepositoryTest            : Started StudentRepositoryTest in 1.078 seconds (process running for 24.68)
Hibernate: insert into student (address,date_of_birth,department_id_department,email,first_name,last_name,phone,id_student) values (?,?,?,?,?,?,?,default)
Hibernate: insert into student (address,date_of_birth,department_id_department,email,first_name,last_name,phone,id_student) values (?,?,?,?,?,?,?,default)
Hibernate: insert into student (address,date_of_birth,department_id_department,email,first_name,last_name,phone,id_student) values (?,?,?,?,?,?,?,default)
Hibernate: select s1_0.id_student,s1_0.address,s1_0.date_of_birth,s1_0.department_id_department,s1_0.email,s1_0.first_name,s1_0.last_name,s1_0.phone from student s1_0 where upper(s1_0.first_name) like upper(?) escape '\'
Hibernate: insert into student (address,date_of_birth,department_id_department,email,first_name,last_name,phone,id_student) values (?,?,?,?,?,?,?,default)
Hibernate: insert into department (head,location,name,phone,id_department) values (?,?,?,?,default)
Hibernate: insert into department (head,location,name,phone,id_department) values (?,?,?,?,default)
Hibernate: insert into student (address,date_of_birth,department_id_department,email,first_name,last_name,phone,id_student) values (?,?,?,?,?,?,?,default)
Hibernate: insert into student (address,date_of_birth,department_id_department,email,first_name,last_name,phone,id_student) values (?,?,?,?,?,?,?,default)
Hibernate: insert into student (address,date_of_birth,department_id_department,email,first_name,last_name,phone,id_student) values (?,?,?,?,?,?,?,default)
Hibernate: select s1_0.id_student,s1_0.address,s1_0.date_of_birth,s1_0.department_id_department,s1_0.email,s1_0.first_name,s1_0.last_name,s1_0.phone from student s1_0 left join department d1_0 on d1_0.id_department=s1_0.department_id_department where d1_0.id_department=?
Hibernate: insert into student (address,date_of_birth,department_id_department,email,first_name,last_name,phone,id_student) values (?,?,?,?,?,?,?,default)
Hibernate: insert into student (address,date_of_birth,department_id_department,email,first_name,last_name,phone,id_student) values (?,?,?,?,?,?,?,default)
Hibernate: insert into student (address,date_of_birth,department_id_department,email,first_name,last_name,phone,id_student) values (?,?,?,?,?,?,?,default)
Hibernate: select s1_0.id_student,s1_0.address,s1_0.date_of_birth,s1_0.department_id_department,s1_0.email,s1_0.first_name,s1_0.last_name,s1_0.phone from student s1_0
Hibernate: select s1_0.id_student,s1_0.address,s1_0.date_of_birth,s1_0.department_id_department,s1_0.email,s1_0.first_name,s1_0.last_name,s1_0.phone from student s1_0 where s1_0.email=?
Hibernate: insert into student (address,date_of_birth,department_id_department,email,first_name,last_name,phone,id_student) values (?,?,?,?,?,?,?,default)
Hibernate: delete from student where id_student=?
Hibernate: select s1_0.id_student,s1_0.address,s1_0.date_of_birth,d1_0.id_department,d1_0.head,d1_0.location,d1_0.name,d1_0.phone,s1_0.email,s1_0.first_name,s1_0.last_name,s1_0.phone from student s1_0 left join department d1_0 on d1_0.id_department=s1_0.department_id_department where s1_0.id_student=?
Hibernate: insert into student (address,date_of_birth,department_id_department,email,first_name,last_name,phone,id_student) values (?,?,?,?,?,?,?,default)
Hibernate: insert into department (head,location,name,phone,id_department) values (?,?,?,?,default)
Hibernate: insert into student (address,date_of_birth,department_id_department,email,first_name,last_name,phone,id_student) values (?,?,?,?,?,?,?,default)
Hibernate: select s1_0.id_student,s1_0.address,s1_0.date_of_birth,s1_0.department_id_department,s1_0.email,s1_0.first_name,s1_0.last_name,s1_0.phone from student s1_0 where s1_0.email=?
[[1;34mINFO[m] [1;32mTests run: [0;1;32m9[m, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 2.109 s -- in tn.esprit.studentmanagement.repositories.[1mStudentRepositoryTest[m
[[1;34mINFO[m] Running tn.esprit.studentmanagement.controllers.[1mStudentControllerTest[m
2025-12-15T14:40:10.844+01:00  INFO 17130 --- [student-management] [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [tn.esprit.studentmanagement.controllers.StudentControllerTest]: StudentControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-12-15T14:40:10.872+01:00  INFO 17130 --- [student-management] [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration tn.esprit.studentmanagement.StudentManagementApplication for test class tn.esprit.studentmanagement.controllers.StudentControllerTest

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/

 :: Spring Boot ::                (v3.5.5)

2025-12-15T14:40:10.916+01:00  INFO 17130 --- [student-management] [           main] t.e.s.controllers.StudentControllerTest  : Starting StudentControllerTest using Java 17.0.15 with PID 17130 (started by jenkins in /var/lib/jenkins/workspace/webhootest)
2025-12-15T14:40:10.917+01:00  INFO 17130 --- [student-management] [           main] t.e.s.controllers.StudentControllerTest  : No active profile set, falling back to 1 default profile: "default"
2025-12-15T14:40:11.881+01:00  INFO 17130 --- [student-management] [           main] o.s.v.b.OptionalValidatorFactoryBean     : Failed to set up a Bean Validation provider: jakarta.validation.NoProviderFoundException: Unable to create a Configuration, because no Jakarta Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.
2025-12-15T14:40:12.192+01:00  INFO 17130 --- [student-management] [           main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2025-12-15T14:40:12.193+01:00  INFO 17130 --- [student-management] [           main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-12-15T14:40:12.199+01:00  INFO 17130 --- [student-management] [           main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 3 ms
2025-12-15T14:40:12.284+01:00  INFO 17130 --- [student-management] [           main] t.e.s.controllers.StudentControllerTest  : Started StudentControllerTest in 1.406 seconds (process running for 27.054)
[[1;31mERROR[m] [1;31mTests [0;1mrun: [0;1m7[m, Failures: 0, [1;31mErrors: [0;1;31m1[m, Skipped: 0, Time elapsed: 3.215 s[1;31m <<< FAILURE![m -- in tn.esprit.studentmanagement.controllers.[1mStudentControllerTest[m
[[1;31mERROR[m] tn.esprit.studentmanagement.controllers.StudentControllerTest.testGetStudentByIdNotFound -- Time elapsed: 0.022 s <<< ERROR!
jakarta.servlet.ServletException: Request processing failed: java.lang.RuntimeException: Student not found with id: 999
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1022)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:165)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:162)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:201)
	at tn.esprit.studentmanagement.controllers.StudentControllerTest.testGetStudentByIdNotFound(StudentControllerTest.java:105)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
Caused by: java.lang.RuntimeException: Student not found with id: 999
	at tn.esprit.studentmanagement.controllers.StudentController.getStudent(StudentController.java:27)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	... 24 more

[[1;34mINFO[m] Running tn.esprit.studentmanagement.services.[1mStudentServiceTest[m
[[1;34mINFO[m] [1;32mTests run: [0;1;32m11[m, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.647 s -- in tn.esprit.studentmanagement.services.[1mStudentServiceTest[m
[[1;34mINFO[m] Running tn.esprit.studentmanagement.entities.[1mStudentTest[m
[[1;34mINFO[m] [1;32mTests run: [0;1;32m11[m, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.059 s -- in tn.esprit.studentmanagement.entities.[1mStudentTest[m
[[1;34mINFO[m] 
[[1;34mINFO[m] Results:
[[1;34mINFO[m] 
[[1;31mERROR[m] [1;31mErrors: [m
[[1;31mERROR[m] [1;31m  StudentControllerTest.testGetStudentByIdNotFound:105 ¬ª Servlet Request processing failed: java.lang.RuntimeException: Student not found with id: 999[m
[[1;34mINFO[m] 
[[1;31mERROR[m] [1;31mTests run: 39, Failures: 0, Errors: 1, Skipped: 0[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] [1;31mBUILD FAILURE[m
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] Total time:  39.440 s
[[1;34mINFO[m] Finished at: 2025-12-15T14:40:15+01:00
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;31mERROR[m] Failed to execute goal [32morg.apache.maven.plugins:maven-surefire-plugin:3.5.0:test[m [1m(default-test)[m on project [36mstudent-management[m: [1;31m[m
[[1;31mERROR[m] [1;31m[m
[[1;31mERROR[m] [1;31mPlease refer to /var/lib/jenkins/workspace/webhootest/target/surefire-reports for the individual test results.[m
[[1;31mERROR[m] [1;31mPlease refer to dump files (if any exist) [date].dump, [date]-jvmRun[N].dump and [date].dumpstream.[m
[[1;31mERROR[m] -> [1m[Help 1][m
[[1;31mERROR[m] 
[[1;31mERROR[m] To see the full stack trace of the errors, re-run Maven with the [1m-e[m switch.
[[1;31mERROR[m] Re-run Maven using the [1m-X[m switch to enable full debug logging.
[[1;31mERROR[m] 
[[1;31mERROR[m] For more information about the errors and possible solutions, please read the following articles:
[[1;31mERROR[m] [1m[Help 1][m http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException
[Pipeline] }
[Pipeline] // script
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (SonarQube Analysis)
Stage "SonarQube Analysis" skipped due to earlier failure(s)
[Pipeline] getContext
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Build Docker Image)
Stage "Build Docker Image" skipped due to earlier failure(s)
[Pipeline] getContext
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Push to Docker Hub)
Stage "Push to Docker Hub" skipped due to earlier failure(s)
[Pipeline] getContext
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Deploy to Kubernetes)
Stage "Deploy to Kubernetes" skipped due to earlier failure(s)
[Pipeline] getContext
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Declarative: Post Actions)
[Pipeline] sh
+ docker logout
Removing login credentials for https://index.docker.io/v1/
+ echo üßπ Nettoyage effectu√©
üßπ Nettoyage effectu√©
[Pipeline] script
[Pipeline] {
[Pipeline] archiveArtifacts
Archiving artifacts
Enregistrement des empreintes num√©riques
[Pipeline] archiveArtifacts
Archiving artifacts
[Pipeline] echo
üìä R√âSUM√â BUILD #61
[Pipeline] echo
üê≥ Image: ahmedwolf/spring-test3:build-61
[Pipeline] echo
üîç SonarQube: http://192.168.49.1:9000/dashboard?id=StudentsManagement
[Pipeline] }
[Pipeline] // script
[Pipeline] echo
‚ùå PIPELINE √âCHOU√âE
[Pipeline] }
[Pipeline] // stage
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // node
[Pipeline] End of Pipeline
ERROR: script returned exit code 1
Finished: FAILURE

REST API
